

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png">
  <link rel="icon" href="/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Parlos">
  <meta name="keywords" content="">
  
    <meta name="description" content="BFS每次从队列中选择未被访问过可到达的邻接点，并均标记为已访问过，将这些点加入到队列中 以此类推，直到队列为空  迷宫问题对上下左右四个方向进行判断，看能否走到不能走到的情况：已经走到过；到达边界；碰到障碍物  八皇后问题全排列 123456789101112131415161718192021int vis[maxn], a[maxn];&#x2F;&#x2F; vis记录是否使用过void permutatio">
<meta property="og:type" content="article">
<meta property="og:title" content="Computer Programming —— structure">
<meta property="og:url" content="https://parlosyy.github.io/2022/03/10/program1/index.html">
<meta property="og:site_name" content="Yys super blog">
<meta property="og:description" content="BFS每次从队列中选择未被访问过可到达的邻接点，并均标记为已访问过，将这些点加入到队列中 以此类推，直到队列为空  迷宫问题对上下左右四个方向进行判断，看能否走到不能走到的情况：已经走到过；到达边界；碰到障碍物  八皇后问题全排列 123456789101112131415161718192021int vis[maxn], a[maxn];&#x2F;&#x2F; vis记录是否使用过void permutatio">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618154353.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618153818.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618195944.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618203221.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618202105.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618202119.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618155039.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618155146.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618155247.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618155547.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618160108.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618160232.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618192538.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618192621.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618194539.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618194633.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618195114.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618195253.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210619095736.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210619095728.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210619095841.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210619101207.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210619101148.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210619101257.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210619101335.png">
<meta property="og:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210619101434.png">
<meta property="article:published_time" content="2022-03-10T05:47:41.000Z">
<meta property="article:modified_time" content="2022-03-10T06:19:43.227Z">
<meta property="article:author" content="Parlos">
<meta property="article:tag" content="programming">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://parlosyy.github.io/images/cs_net/QQ截图20210618154353.png">
  
  
  <title>Computer Programming —— structure - Yys super blog</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->

  
<link rel="stylesheet" href="/css/mac.css">
<link rel="stylesheet" href="/css/cur.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"parlosyy.github.io","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Parlos Yuan&#39;s blog</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/images/20210927214634_64492.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="Computer Programming —— structure">
              
            </span>

            
              <div class="mt-3">
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-03-10 13:47" pubdate>
        2022年3月10日 下午
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      5.9k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      50 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Computer Programming —— structure</h1>
            
            <div class="markdown-body">
              <h2 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a><strong>BFS</strong></h2><p>每次从队列中选择未被访问过可到达的邻接点，并均标记为已访问过，将这些点加入到队列中</p>
<p>以此类推，直到队列为空</p>
<p><img src="/images/cs_net/QQ截图20210618154353.png" srcset="/img/loading.gif" lazyload style="zoom: 50%;"></p>
<h3 id="迷宫问题"><a href="#迷宫问题" class="headerlink" title="迷宫问题"></a>迷宫问题</h3><h5 id="对上下左右四个方向进行判断，看能否走到"><a href="#对上下左右四个方向进行判断，看能否走到" class="headerlink" title="对上下左右四个方向进行判断，看能否走到"></a>对上下左右四个方向进行判断，看能否走到</h5><p>不能走到的情况：已经走到过；到达边界；碰到障碍物</p>
<p><img src="/images/cs_net/QQ截图20210618153818.png" srcset="/img/loading.gif" lazyload style="zoom: 50%;"></p>
<h3 id="八皇后问题"><a href="#八皇后问题" class="headerlink" title="八皇后问题"></a>八皇后问题</h3><p>全排列</p>
<figure class="highlight c++"><table><tr><td class="gutter"><div class="code-wrapper"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></div></td><td class="code"><pre><code class="hljs c++"><span class="hljs-type">int</span> vis[maxn], a[maxn];<br><span class="hljs-comment">// vis记录是否使用过</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">permutation</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>    <span class="hljs-keyword">if</span> (x == n)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++)<br>            <span class="hljs-built_in">printf</span>(<span class="hljs-string">&quot;%d\n&quot;</span>, a[i]);<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (!vis[i])<br>        &#123;<br>            vis[i] = <span class="hljs-number">1</span>;<br>            a[x] = i;<br>            <span class="hljs-built_in">permutation</span>(x + <span class="hljs-number">1</span>, n);<br>            vis[i] = <span class="hljs-number">0</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="选数问题"><a href="#选数问题" class="headerlink" title="选数问题"></a>选数问题</h3><p>对于n个整数，计算出选取k个数，其和为素数共有多少种</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">dfs</span><span class="hljs-params">(<span class="hljs-type">int</span> *b, <span class="hljs-type">int</span> i,<span class="hljs-type">int</span> m, <span class="hljs-type">int</span> level,<span class="hljs-type">int</span> k,<span class="hljs-type">int</span> n)</span> </span>&#123;<br>	<span class="hljs-keyword">if</span> (level == k) &#123;<br>		<span class="hljs-keyword">if</span> (<span class="hljs-built_in">prime</span>(m)) &#123;<br>			sum++;<br>		&#125;<br>		<span class="hljs-keyword">return</span>;<br>	&#125;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = i + <span class="hljs-number">1</span>; j &lt; n; j++) &#123;<br>		<span class="hljs-built_in">dfs</span>(b, j, m + b[j], level + <span class="hljs-number">1</span>, k, n);<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="贪心算法"><a href="#贪心算法" class="headerlink" title="贪心算法"></a>贪心算法</h2><h3 id="区间调度"><a href="#区间调度" class="headerlink" title="区间调度"></a>区间调度</h3><p>找到最大的互相不重叠的区间</p>
<h5 id="左端点排序"><a href="#左端点排序" class="headerlink" title="左端点排序"></a>左端点排序</h5><p><img src="/images/cs_net/QQ截图20210618195944.png" srcset="/img/loading.gif" lazyload style="zoom:67%;"></p>
<h3 id="作业调度"><a href="#作业调度" class="headerlink" title="作业调度"></a>作业调度</h3><p><img src="/images/cs_net/QQ截图20210618203221.png" srcset="/img/loading.gif" lazyload style="zoom:50%;"></p>
<h2 id="二分"><a href="#二分" class="headerlink" title="二分"></a>二分</h2><h3 id="整数二分"><a href="#整数二分" class="headerlink" title="整数二分"></a>整数二分</h3><p><img src="/images/cs_net/QQ截图20210618202105.png" srcset="/img/loading.gif" lazyload style="zoom: 50%;"></p>
<h3 id="浮点二分"><a href="#浮点二分" class="headerlink" title="浮点二分"></a>浮点二分</h3><p><img src="/images/cs_net/QQ截图20210618202119.png" srcset="/img/loading.gif" lazyload style="zoom:67%;"></p>
<h3 id="二分答案"><a href="#二分答案" class="headerlink" title="二分答案"></a>二分答案</h3><p>将序列分成m段，每一段连续，并且<strong>重量和</strong>最大的段的<strong>和最小</strong></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">existline</span><span class="hljs-params">(<span class="hljs-type">int</span> b)</span> </span>&#123;<br>	<span class="hljs-type">int</span> nowline = <span class="hljs-number">0</span>;<br>	<span class="hljs-type">int</span> cursum = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>		<span class="hljs-keyword">if</span> (cursum + a[i] &gt; b) &#123;<br>			nowline++;<br>			cursum = a[i];<br>		&#125;<br>		<span class="hljs-keyword">else</span><br>			cursum += a[i];<br>	&#125;<br>	<span class="hljs-keyword">if</span> (nowline &gt;= m)<br>		<span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>	<span class="hljs-keyword">else</span><br>		<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>&#125;<br><br><span class="hljs-keyword">while</span> (l &lt; r) &#123;<br>		<span class="hljs-type">int</span> mid = (l + r) / <span class="hljs-number">2</span>;<br>		<span class="hljs-keyword">if</span> (<span class="hljs-built_in">existline</span>(mid)) &#123;<br>			r = mid;<br>			res = mid;<br>		&#125;<br>		<span class="hljs-keyword">else</span> &#123;<br>			l = mid + <span class="hljs-number">1</span>;<br>		&#125;<br>	&#125;<br></code></pre></td></tr></table></figure>
<h2 id="特殊数据结构"><a href="#特殊数据结构" class="headerlink" title="特殊数据结构"></a>特殊数据结构</h2><h3 id="取模运算"><a href="#取模运算" class="headerlink" title="取模运算"></a>取模运算</h3><p><img src="/images/cs_net/QQ截图20210618155039.png" srcset="/img/loading.gif" lazyload style="zoom:50%;"></p>
<h3 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h3><p><img src="/images/cs_net/QQ截图20210618155146.png" srcset="/img/loading.gif" lazyload style="zoom:50%;"></p>
<h3 id="快速幂"><a href="#快速幂" class="headerlink" title="快速幂"></a>快速幂</h3><p>通过分治转换</p>
<p><img src="/images/cs_net/QQ截图20210618155247.png" srcset="/img/loading.gif" lazyload style="zoom:50%;"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 快速幂</span><br><span class="hljs-function"><span class="hljs-type">long</span> <span class="hljs-type">long</span> <span class="hljs-title">qpow</span><span class="hljs-params">(<span class="hljs-type">long</span> <span class="hljs-type">long</span> a,<span class="hljs-type">long</span> <span class="hljs-type">long</span> b,<span class="hljs-type">long</span> <span class="hljs-type">long</span> p)</span></span><br><span class="hljs-function"></span>&#123;<br>	<span class="hljs-keyword">if</span> (b == <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>	<span class="hljs-type">long</span> <span class="hljs-type">long</span> res = <span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">for</span> (a %= p; b; a = a * a % p, b &gt;&gt;= <span class="hljs-number">1</span>) <span class="hljs-keyword">if</span> (b &amp; <span class="hljs-number">1</span>) res = res * a % p;<br>	<span class="hljs-keyword">return</span> res;<br>&#125;<br><br><br><br><br><br><span class="hljs-comment">// 快速乘法</span><br><span class="hljs-function"><span class="hljs-type">long</span> <span class="hljs-type">long</span> <span class="hljs-title">qmul</span><span class="hljs-params">(<span class="hljs-type">long</span> <span class="hljs-type">long</span> a, <span class="hljs-type">long</span> <span class="hljs-type">long</span> b, <span class="hljs-type">long</span> <span class="hljs-type">long</span> mod)</span> </span>&#123;<br>	<span class="hljs-type">long</span> <span class="hljs-type">long</span> ans = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">while</span> (b) &#123;<br>		<span class="hljs-keyword">if</span> (b &amp; <span class="hljs-number">1</span>)	ans = (ans + a) % mod;<br>		a = (a &lt;&lt; <span class="hljs-number">1</span>) % mod;<br>		b &gt;&gt;= <span class="hljs-number">1</span>;<br>	&#125;<br>	<span class="hljs-keyword">return</span> ans;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="前缀和"><a href="#前缀和" class="headerlink" title="前缀和"></a>前缀和</h3><p><img src="/images/cs_net/QQ截图20210618155547.png" srcset="/img/loading.gif" lazyload style="zoom:67%;"></p>
<p><img src="/images/cs_net/QQ截图20210618160108.png" srcset="/img/loading.gif" lazyload style="zoom:50%;"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-comment">// 预处理</span><br>sum[x][y] = sum[x - <span class="hljs-number">1</span>][y] + sum[x][y - <span class="hljs-number">1</span>] - sum[x - <span class="hljs-number">1</span>][y - <span class="hljs-number">1</span>] + m[x][y];<br><span class="hljs-comment">// 求和</span><br>res = sum[c][d] - sum[a - <span class="hljs-number">1</span>][d] - sum[c][b - <span class="hljs-number">1</span>] + m[a - <span class="hljs-number">1</span>][b - <span class="hljs-number">1</span>];<br></code></pre></td></tr></table></figure>
<h3 id="差分数组"><a href="#差分数组" class="headerlink" title="差分数组"></a>差分数组</h3><p><img src="/images/cs_net/QQ截图20210618160232.png" srcset="/img/loading.gif" lazyload style="zoom:50%;"></p>
<p>二维差分矩阵的具体实现</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; cnt; i++)<br>&#123;<br>    <span class="hljs-type">int</span> lx, ly, rx, ry, C;<br>    cin &gt;&gt; lx &gt;&gt; ly &gt;&gt; rx &gt;&gt; ry &gt;&gt; C;<br>    b[lx][ly] += C;<br>    b[lx][ry + <span class="hljs-number">1</span>] -= C;<br>    b[rx + <span class="hljs-number">1</span>][ly] -= C;<br>    b[rx + <span class="hljs-number">1</span>][ry + <span class="hljs-number">1</span>] += C;<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n; i++)<br>&#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">1</span>; j &lt;= m; j++)<br>    &#123;<br>        res[i][j] = res[i - <span class="hljs-number">1</span>][j] + res[i][j - <span class="hljs-number">1</span>] - res[i - <span class="hljs-number">1</span>][j - <span class="hljs-number">1</span>] + b[i][j];<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="单调栈"><a href="#单调栈" class="headerlink" title="单调栈"></a>单调栈</h3><p><img src="/images/cs_net/QQ截图20210618192538.png" srcset="/img/loading.gif" lazyload style="zoom:67%;"></p>
<h4 id="直方图面积问题"><a href="#直方图面积问题" class="headerlink" title="直方图面积问题"></a>直方图面积问题</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++">x[<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>x[n + <span class="hljs-number">1</span>] = <span class="hljs-number">0</span>;<br><span class="hljs-type">long</span> <span class="hljs-type">long</span> maxs = <span class="hljs-number">0</span>;<br>s.<span class="hljs-built_in">push</span>(x[<span class="hljs-number">0</span>]);<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt;= n + <span class="hljs-number">1</span>; i++) &#123;<br>	<span class="hljs-type">int</span> count = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">while</span> (!s.<span class="hljs-built_in">empty</span>() &amp;&amp; s.<span class="hljs-built_in">top</span>() &gt; x[i]) &#123;<br>		<span class="hljs-type">long</span> <span class="hljs-type">long</span> t = s.<span class="hljs-built_in">top</span>();<br>		s.<span class="hljs-built_in">pop</span>();<br>		count++;<br>		t = t * count;<br>		maxs = <span class="hljs-built_in">max</span>(t, maxs);<br>	&#125;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt;= count; j++) &#123;<br>		s.<span class="hljs-built_in">push</span>(x[i]);<br>	&#125;<br>&#125;<br>cout &lt;&lt; maxs;<br></code></pre></td></tr></table></figure>
<h3 id="单调队列"><a href="#单调队列" class="headerlink" title="单调队列"></a>单调队列</h3><p>如果队列为空或者队尾元素小于入队元素，则入队<br>否则，入队则会破坏队内元素的单调性，则需要将不满足条件的队尾元素全部出队后，将入队元素入队</p>
<p><img src="/images/cs_net/QQ截图20210618192621.png" srcset="/img/loading.gif" lazyload style="zoom:67%;"></p>
<h4 id="滑动窗口问题"><a href="#滑动窗口问题" class="headerlink" title="滑动窗口问题"></a>滑动窗口问题</h4><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs c++">deque&lt;<span class="hljs-type">int</span>&gt; q1;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>	<span class="hljs-type">int</span> jud = i - k + <span class="hljs-number">1</span>;<br>	<span class="hljs-keyword">if</span> (jud &lt; <span class="hljs-number">0</span>)<br>		jud = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">while</span> (q1.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">0</span> &amp;&amp; q1.<span class="hljs-built_in">front</span>() &lt; i - k + <span class="hljs-number">1</span>) &#123;<br>		q1.<span class="hljs-built_in">pop_front</span>();<br>	&#125;<br>	<span class="hljs-keyword">while</span> (q1.<span class="hljs-built_in">size</span>() &gt; <span class="hljs-number">0</span> &amp;&amp; x[q1.<span class="hljs-built_in">back</span>()] &gt; x[i]) &#123;<br>		q1.<span class="hljs-built_in">pop_back</span>();<br>	&#125;<br>	q1.<span class="hljs-built_in">push_back</span>(i);<br>	<span class="hljs-keyword">if</span> (i - k + <span class="hljs-number">1</span> &gt;= <span class="hljs-number">0</span>)<br>		ymin[i - k + <span class="hljs-number">1</span>] = x[q1.<span class="hljs-built_in">front</span>()];<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="素数判断"><a href="#素数判断" class="headerlink" title="素数判断"></a>素数判断</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">prime</span><span class="hljs-params">(<span class="hljs-type">int</span> n)</span></span><br><span class="hljs-function"></span>&#123;<br>        <span class="hljs-keyword">if</span>（n==<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-keyword">if</span> (n==<span class="hljs-number">2</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>	<span class="hljs-keyword">for</span>(<span class="hljs-type">int</span> i=<span class="hljs-number">2</span>;i*i&lt;=n;i++)<br>	   <span class="hljs-keyword">if</span> (n%i==<span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>	<span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; <br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="最大公约数"><a href="#最大公约数" class="headerlink" title="最大公约数"></a>最大公约数</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">gcd</span><span class="hljs-params">(<span class="hljs-type">int</span> a, <span class="hljs-type">int</span> b)</span> </span>&#123;<br>	<span class="hljs-keyword">if</span> (a % b == <span class="hljs-number">0</span>) &#123;<br>		<span class="hljs-keyword">return</span> b;<br>	&#125;<br>	<span class="hljs-keyword">else</span> &#123;<br>		<span class="hljs-keyword">return</span> <span class="hljs-built_in">gcd</span>(b, a % b);<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="矩阵快速幂"><a href="#矩阵快速幂" class="headerlink" title="矩阵快速幂"></a>矩阵快速幂</h2><h3 id="通用结构"><a href="#通用结构" class="headerlink" title="通用结构"></a>通用结构</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">matrix</span><br>&#123;<br>    ll x[w][w];<br>    matrix <span class="hljs-keyword">operator</span>*(<span class="hljs-type">const</span> matrix &amp;t) <span class="hljs-type">const</span><br>    &#123;<br>        matrix ret;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; w; i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; w; j++)<br>            &#123;<br>                ret.x[i][j] = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; w; k++)<br>                &#123;<br>                    ret.x[i][j] += x[i][k] * t.x[k][j] % modx;<br>                    ret.x[i][j] %= modx;<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-built_in">matrix</span>() &#123; <span class="hljs-built_in">memset</span>(x, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(x)); &#125;<br>&#125;;<br><span class="hljs-function">matrix <span class="hljs-title">quick_pow</span><span class="hljs-params">(matrix a, ll x)</span></span><br><span class="hljs-function"></span>&#123;<br>    matrix ret;<br>    <span class="hljs-comment">// 此处为具体初始矩阵</span><br>    ret.x[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>] = ret.x[<span class="hljs-number">1</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">0</span>;<br>    ret.x[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = ret.x[<span class="hljs-number">1</span>][<span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">while</span> (x)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (x &amp; <span class="hljs-number">1</span>)<br>            ret = ret * a;<br>        a = a * a;<br>        x &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="斐波那契"><a href="#斐波那契" class="headerlink" title="斐波那契"></a>斐波那契</h3><p><img src="/images/cs_net/QQ截图20210618194539.png" srcset="/img/loading.gif" lazyload style="zoom: 33%;"></p>
<h3 id="自然数幂和"><a href="#自然数幂和" class="headerlink" title="自然数幂和"></a>自然数幂和</h3><p><img src="/images/cs_net/QQ截图20210618194633.png" srcset="/img/loading.gif" lazyload style="zoom: 50%;"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs c++">matrix a;<br>a.x[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>] = <span class="hljs-number">1</span>;<br>a.x[w - <span class="hljs-number">1</span>][w - <span class="hljs-number">1</span>] = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; w; i++)<br>&#123;<br>	a.x[<span class="hljs-number">0</span>][i] = <span class="hljs-built_in">calc</span>(k, i - <span class="hljs-number">1</span>); <span class="hljs-comment">// 第一行</span><br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">1</span>; i &lt; w - <span class="hljs-number">1</span>; i++) <span class="hljs-comment">// 剩余行，均是组合数形式</span><br>&#123;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; w; j++)<br>	&#123;<br>		a.x[i][j] = <span class="hljs-built_in">calc</span>(k - i + <span class="hljs-number">1</span>, j - i);<br>	&#125;<br>&#125;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; w - <span class="hljs-number">1</span>; i++) <span class="hljs-comment">// 最后一行</span><br>&#123;<br>	a.x[w - <span class="hljs-number">1</span>][i] = <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
<h3 id="染色问题"><a href="#染色问题" class="headerlink" title="染色问题"></a>染色问题</h3><p>现需要用红、蓝、绿、黄四种颜色对n个连续格子染色</p>
<p>询问满足红色、绿色格子数量同时为偶数的染色方案</p>
<h5 id="A-i-表示-i-个格子，红绿均为偶数的染色方案数"><a href="#A-i-表示-i-个格子，红绿均为偶数的染色方案数" class="headerlink" title="A[i] 表示 i 个格子，红绿均为偶数的染色方案数"></a>A[i] 表示 i 个格子，红绿均为偶数的染色方案数</h5><h5 id="B-i-表示-i-个格子，红绿均为奇数的染色方案数"><a href="#B-i-表示-i-个格子，红绿均为奇数的染色方案数" class="headerlink" title="B[i] 表示 i 个格子，红绿均为奇数的染色方案数"></a>B[i] 表示 i 个格子，红绿均为奇数的染色方案数</h5><h5 id="C-i-表示-i-个格子，红绿有一个为偶数的染色方案数"><a href="#C-i-表示-i-个格子，红绿有一个为偶数的染色方案数" class="headerlink" title="C[i] 表示 i 个格子，红绿有一个为偶数的染色方案数"></a>C[i] 表示 i 个格子，红绿有一个为偶数的染色方案数</h5><p><img src="/images/cs_net/QQ截图20210618195114.png" srcset="/img/loading.gif" lazyload style="zoom:50%;"></p>
<h3 id="喜爱度问题"><a href="#喜爱度问题" class="headerlink" title="喜爱度问题"></a>喜爱度问题</h3><p><img src="/images/cs_net/QQ截图20210618195253.png" srcset="/img/loading.gif" lazyload style="zoom:50%;"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-keyword">struct</span> <span class="hljs-title class_">matrix</span><br>&#123;<br>    ll x[w][w];<br>    matrix <span class="hljs-keyword">operator</span>*(<span class="hljs-type">const</span> matrix &amp;t) <span class="hljs-type">const</span><br>    &#123;<br>        matrix ret;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++)<br>        &#123;<br>            <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j++)<br>            &#123;<br>                ret.x[i][j] = <span class="hljs-number">0</span>;<br>                <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> k = <span class="hljs-number">0</span>; k &lt; m; k++)<br>                &#123;<br>                    ret.x[i][j] = <span class="hljs-built_in">max</span>(ret.x[i][j], x[i][k] + t.x[k][j]);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-keyword">return</span> ret;<br>    &#125;<br>    <span class="hljs-built_in">matrix</span>() &#123; <span class="hljs-built_in">memset</span>(x, <span class="hljs-number">0</span>, <span class="hljs-built_in">sizeof</span>(x)); &#125;<br>&#125;;<br><br><span class="hljs-function">matrix <span class="hljs-title">quick_pow</span><span class="hljs-params">(matrix a, ll x)</span></span><br><span class="hljs-function"></span>&#123;<br>    matrix ret;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; m; i++)<br>    &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> j = <span class="hljs-number">0</span>; j &lt; m; j++)<br>        &#123;<br>            <span class="hljs-keyword">if</span> (i == j)<br>                ret.x[i][i] = <span class="hljs-number">0</span>;<br>            <span class="hljs-keyword">else</span><br>                ret.x[i][i] = -inf;<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">while</span> (x)<br>    &#123;<br>        <span class="hljs-keyword">if</span> (x &amp; <span class="hljs-number">1</span>)<br>            ret = ret * a;<br>        a = a * a;<br>        x &gt;&gt;= <span class="hljs-number">1</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> ret;<br>&#125;<br><br></code></pre></td></tr></table></figure>
<h2 id="树状数组"><a href="#树状数组" class="headerlink" title="树状数组"></a>树状数组</h2><h5 id="是求取前缀和方法的优化，本质还是前缀和，以类似二进制拆分的形式优化"><a href="#是求取前缀和方法的优化，本质还是前缀和，以类似二进制拆分的形式优化" class="headerlink" title="是求取前缀和方法的优化，本质还是前缀和，以类似二进制拆分的形式优化"></a>是求取前缀和方法的优化，本质还是前缀和，以类似二进制拆分的形式优化</h5><h5 id="不足是无法进行最值的操作"><a href="#不足是无法进行最值的操作" class="headerlink" title="不足是无法进行最值的操作"></a>不足是无法进行最值的操作</h5><p><img src="/images/cs_net/QQ截图20210619095736.png" srcset="/img/loading.gif" lazyload style="zoom:67%;"></p>
<h3 id="查询"><a href="#查询" class="headerlink" title="查询"></a>查询</h3><p><img src="/images/cs_net/QQ截图20210619095728.png" srcset="/img/loading.gif" lazyload style="zoom:67%;"></p>
<h3 id="修改"><a href="#修改" class="headerlink" title="修改"></a>修改</h3><p><img src="/images/cs_net/QQ截图20210619095841.png" srcset="/img/loading.gif" lazyload style="zoom:67%;"></p>
<h3 id="二维偏序问题"><a href="#二维偏序问题" class="headerlink" title="二维偏序问题"></a>二维偏序问题</h3><p>先在一个维度上排序，然后进行逆序对输出</p>
<p>该程序的得分为<strong>运行时间</strong>与<strong>内存占用</strong>均小于等于该程序的程序的数量，求成绩为0,1,…<em>n</em>−1 的程序的数量分别为多少</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> lb(x) ((x) &amp; (-x))</span><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">upd</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> v)</span> </span>&#123;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = x; i &lt;= <span class="hljs-number">1000100</span>; i += <span class="hljs-built_in">lb</span>(i))<br>		s[i] += v;<br>&#125;<br> <br><span class="hljs-function">ll <span class="hljs-title">ask</span><span class="hljs-params">(<span class="hljs-type">int</span> x)</span> </span>&#123;<br>	ll res = <span class="hljs-number">0</span>;<br>	<span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = x; i &gt;= <span class="hljs-number">1</span>; i -= <span class="hljs-built_in">lb</span>(i))<br>		res += s[i];<br>	<span class="hljs-keyword">return</span> res;<br>&#125;<br> <br><span class="hljs-function"><span class="hljs-type">bool</span> <span class="hljs-title">cmp</span><span class="hljs-params">(pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; a, pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt;b)</span> </span>&#123;<br>	<span class="hljs-keyword">if</span> (a.first != b.first)<br>		<span class="hljs-keyword">return</span> a.first &lt; b.first;<br>	<span class="hljs-keyword">else</span><br>		<span class="hljs-keyword">return</span> a.second &lt; b.second;<br>&#125;<br><br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>		pair&lt;<span class="hljs-type">int</span>, <span class="hljs-type">int</span>&gt; p;<br>		<span class="hljs-built_in">scanf</span>(<span class="hljs-string">&quot;%d%d&quot;</span>, &amp;p.first, &amp;p.second);<br>		p.second++;<br>		d.<span class="hljs-built_in">emplace_back</span>(p);<br>	&#125;<br><span class="hljs-built_in">sort</span>(d.<span class="hljs-built_in">begin</span>(), d.<span class="hljs-built_in">end</span>(), cmp);<br>ll res = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">for</span> (<span class="hljs-type">int</span> i = <span class="hljs-number">0</span>; i &lt; n; i++) &#123;<br>	res = <span class="hljs-built_in">ask</span>(d[i].second) - <span class="hljs-built_in">ask</span>(<span class="hljs-number">0</span>);<br>	<span class="hljs-built_in">upd</span>(d[i].second, <span class="hljs-number">1</span>);<br>	pos[res]++;<br>&#125;<br></code></pre></td></tr></table></figure>
<h2 id="线段树"><a href="#线段树" class="headerlink" title="线段树"></a>线段树</h2><p><img src="/images/cs_net/QQ截图20210619101207.png" srcset="/img/loading.gif" lazyload style="zoom:50%;"></p>
<p><img src="/images/cs_net/QQ截图20210619101148.png" srcset="/img/loading.gif" lazyload style="zoom:50%;"></p>
<h3 id="线段树建立"><a href="#线段树建立" class="headerlink" title="线段树建立"></a>线段树建立</h3><p><img src="/images/cs_net/QQ截图20210619101257.png" srcset="/img/loading.gif" lazyload style="zoom:67%;"></p>
<h3 id="线段树修改"><a href="#线段树修改" class="headerlink" title="线段树修改"></a>线段树修改</h3><p><img src="/images/cs_net/QQ截图20210619101335.png" srcset="/img/loading.gif" lazyload style="zoom:67%;"></p>
<h3 id="线段树查询"><a href="#线段树查询" class="headerlink" title="线段树查询"></a>线段树查询</h3><p><img src="/images/cs_net/QQ截图20210619101434.png" srcset="/img/loading.gif" lazyload style="zoom:67%;"></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs c++"><span class="hljs-meta">#<span class="hljs-keyword">define</span> lch ((x &lt;&lt; 1))</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> rch ((x &lt;&lt; 1) | 1)</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> m ((l + r) / 2)</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> tol lch,l,m</span><br><span class="hljs-meta">#<span class="hljs-keyword">define</span> tor rch,m+1,r</span><br><br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">build</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> l, <span class="hljs-type">int</span> r)</span> </span>&#123;<br>	<span class="hljs-keyword">if</span> (l == r) &#123;<br>		d[x] = a[l];<br>		<span class="hljs-keyword">return</span>;<br>	&#125;<br>	<span class="hljs-built_in">build</span>(tol);<br>	<span class="hljs-built_in">build</span>(tor);<br>	d[x] = <span class="hljs-built_in">max</span>(d[lch], d[rch]);<br>&#125;<br> <br><span class="hljs-type">int</span> p, v;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">upd</span><span class="hljs-params">(<span class="hljs-type">int</span> x, <span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r)</span> </span>&#123;<br>	<span class="hljs-keyword">if</span> (l == r) &#123;<br>		d[x] += v;<br>		<span class="hljs-keyword">return</span>;<br>	&#125;<br>	<span class="hljs-keyword">if</span> (p &lt;= m) <span class="hljs-built_in">upd</span>(tol);<br>	<span class="hljs-keyword">else</span> <span class="hljs-built_in">upd</span>(tor);<br>	d[x] = <span class="hljs-built_in">max</span>(d[lch], d[rch]);<br>&#125;<br><br><span class="hljs-comment">// l,r为目标查询区间，p1,p2为当前查询区间</span><br><span class="hljs-comment">// 合并多个类似p1,p2的区间得到l,r</span><br><span class="hljs-function">ll <span class="hljs-title">ask</span><span class="hljs-params">(<span class="hljs-type">int</span> x,<span class="hljs-type">int</span> l,<span class="hljs-type">int</span> r,<span class="hljs-type">int</span> p1,<span class="hljs-type">int</span> p2)</span> </span>&#123;<br>	<span class="hljs-keyword">if</span> (l == p1 &amp;&amp; r == p2) &#123;<br>		<span class="hljs-keyword">return</span> d[x];<br>	&#125;<br>	<span class="hljs-keyword">if</span> (p2 &lt;= m) <span class="hljs-keyword">return</span> <span class="hljs-built_in">ask</span>(tol, p1, p2);<br>	<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (p1 &gt; m) <span class="hljs-keyword">return</span> <span class="hljs-built_in">ask</span>(tor, p1, p2);<br>	<span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> <span class="hljs-built_in">max</span>(<span class="hljs-built_in">ask</span>(tol, p1, m), <span class="hljs-built_in">ask</span>(tor, m + <span class="hljs-number">1</span>, p2));<br>&#125;<br></code></pre></td></tr></table></figure>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/cs-learning/">cs learning</a>
                    
                      <a class="hover-with-bg" href="/categories/cs-learning/programming/">programming</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/programming/">programming</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">
                  
                    本博客所有文章除特别声明外，均采用 <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 协议</a> ，转载请注明出处！
                  
                </p>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/03/10/program2/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Computer Programming —— graph</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/03/10/program3/">
                        <span class="hidden-mobile">Computer Programming —— DP</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        loader: {
          load: ['ui/lazy']
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" ></script>

  










  
<script src="/js/DynamicLine.js"></script>
<script src="/js/yinghua.js"></script>



<!-- 主题的启动项 保持在最底部 -->
<script  src="/js/boot.js" ></script>

  <script type="text/javascript" src="/js/love.js"></script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/z16.model.json"},"display":{"superSample":2,"width":200,"height":400,"position":"left","hOffset":-30,"vOffset":-20},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false});</script></body>
</html>
